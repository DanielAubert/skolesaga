<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400">
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1e293b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="600" height="400" fill="#f8fafc"/>

  <!-- Grid -->
  <g stroke="#e2e8f0" stroke-width="1">
    <line x1="100" y1="50" x2="100" y2="320"/>
    <line x1="150" y1="50" x2="150" y2="320"/>
    <line x1="200" y1="50" x2="200" y2="320"/>
    <line x1="250" y1="50" x2="250" y2="320"/>
    <line x1="300" y1="50" x2="300" y2="320"/>
    <line x1="350" y1="50" x2="350" y2="320"/>
    <line x1="400" y1="50" x2="400" y2="320"/>
    <line x1="450" y1="50" x2="450" y2="320"/>
    <line x1="500" y1="50" x2="500" y2="320"/>
    <line x1="50" y1="100" x2="550" y2="100"/>
    <line x1="50" y1="150" x2="550" y2="150"/>
    <line x1="50" y1="200" x2="550" y2="200"/>
    <line x1="50" y1="250" x2="550" y2="250"/>
  </g>

  <!-- Riemann rectangles (left sum) -->
  <rect x="150" y="195" width="50" height="85" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>
  <rect x="200" y="160" width="50" height="120" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>
  <rect x="250" y="130" width="50" height="150" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>
  <rect x="300" y="110" width="50" height="170" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>
  <rect x="350" y="95" width="50" height="185" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>
  <rect x="400" y="90" width="50" height="190" fill="#22c55e" fill-opacity="0.4" stroke="#22c55e" stroke-width="2"/>

  <!-- Axes -->
  <line x1="50" y1="280" x2="560" y2="280" stroke="#1e293b" stroke-width="2" marker-end="url(#arrowhead2)"/>
  <line x1="100" y1="320" x2="100" y2="40" stroke="#1e293b" stroke-width="2" marker-end="url(#arrowhead2)"/>

  <!-- Curve f(x) -->
  <path d="M 80 220
           Q 120 200, 150 195
           Q 175 175, 200 160
           Q 225 145, 250 130
           Q 275 118, 300 110
           Q 330 100, 350 95
           Q 380 88, 400 90
           Q 430 93, 450 100
           Q 490 115, 540 145"
        fill="none" stroke="#3b82f6" stroke-width="3"/>

  <!-- Vertical lines at a and b -->
  <line x1="150" y1="195" x2="150" y2="280" stroke="#ef4444" stroke-width="2" stroke-dasharray="6,4"/>
  <line x1="450" y1="100" x2="450" y2="280" stroke="#ef4444" stroke-width="2" stroke-dasharray="6,4"/>

  <!-- Delta x bracket -->
  <line x1="200" y1="295" x2="200" y2="310" stroke="#8b5cf6" stroke-width="2"/>
  <line x1="250" y1="295" x2="250" y2="310" stroke="#8b5cf6" stroke-width="2"/>
  <line x1="200" y1="302" x2="250" y2="302" stroke="#8b5cf6" stroke-width="2"/>

  <!-- Labels -->
  <text x="560" y="300" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#1e293b">x</text>
  <text x="85" y="35" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#1e293b">y</text>

  <!-- a and b labels -->
  <text x="145" y="330" font-family="Times New Roman, serif" font-size="16" font-style="italic" fill="#ef4444">a</text>
  <text x="445" y="330" font-family="Times New Roman, serif" font-size="16" font-style="italic" fill="#ef4444">b</text>

  <!-- Delta x label -->
  <text x="210" y="325" font-family="Times New Roman, serif" font-size="14" fill="#8b5cf6">Δx</text>

  <!-- Function label -->
  <text x="480" y="130" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#3b82f6">f(x)</text>

  <!-- Origin -->
  <text x="80" y="300" font-family="Times New Roman, serif" font-size="16" fill="#1e293b">O</text>

  <!-- Riemann sum formula -->
  <text x="120" y="365" font-family="Times New Roman, serif" font-size="18" fill="#1e293b">
    <tspan font-style="italic">S</tspan><tspan baseline-shift="sub" font-size="12">n</tspan> =
  </text>
  <text x="168" y="365" font-family="Times New Roman, serif" font-size="24" fill="#1e293b">∑</text>
  <text x="175" y="380" font-family="Times New Roman, serif" font-size="12" font-style="italic" fill="#1e293b">i=1</text>
  <text x="180" y="348" font-family="Times New Roman, serif" font-size="12" font-style="italic" fill="#1e293b">n</text>
  <text x="195" y="365" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#1e293b">f</text>
  <text x="205" y="365" font-family="Times New Roman, serif" font-size="18" fill="#1e293b">(</text>
  <text x="213" y="365" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#1e293b">x</text>
  <text x="228" y="370" font-family="Times New Roman, serif" font-size="12" font-style="italic" fill="#1e293b">i</text>
  <text x="235" y="365" font-family="Times New Roman, serif" font-size="18" fill="#1e293b">) · Δ</text>
  <text x="275" y="365" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#1e293b">x</text>

  <!-- Arrow to limit -->
  <text x="305" y="365" font-family="Times New Roman, serif" font-size="18" fill="#1e293b">→</text>

  <!-- Integral -->
  <text x="335" y="365" font-family="Times New Roman, serif" font-size="26" fill="#22c55e">∫</text>
  <text x="350" y="380" font-family="Times New Roman, serif" font-size="12" font-style="italic" fill="#ef4444">a</text>
  <text x="350" y="348" font-family="Times New Roman, serif" font-size="12" font-style="italic" fill="#ef4444">b</text>
  <text x="365" y="365" font-family="Times New Roman, serif" font-size="18" font-style="italic" fill="#22c55e">f(x) dx</text>

  <!-- n to infinity note -->
  <text x="445" y="365" font-family="Times New Roman, serif" font-size="14" fill="#64748b">når <tspan font-style="italic">n</tspan> → ∞</text>
</svg>
