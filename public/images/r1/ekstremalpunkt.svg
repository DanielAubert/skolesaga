<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 450">
  <defs>
    <marker id="arrow-axis" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>

  <!-- Bakgrunn -->
  <rect width="600" height="450" fill="#fafafa"/>

  <!-- Tittel -->
  <text x="300" y="30" font-family="Georgia, serif" font-size="20" font-weight="bold" fill="#1f2937" text-anchor="middle">Ekstremalpunkter og fortegnslinje</text>

  <!-- Koordinatsystem for funksjonen -->
  <g transform="translate(50, 50)">
    <!-- Rutenett -->
    <g stroke="#e5e7eb" stroke-width="0.5">
      <line x1="0" y1="0" x2="0" y2="180"/>
      <line x1="100" y1="0" x2="100" y2="180"/>
      <line x1="200" y1="0" x2="200" y2="180"/>
      <line x1="300" y1="0" x2="300" y2="180"/>
      <line x1="400" y1="0" x2="400" y2="180"/>
      <line x1="500" y1="0" x2="500" y2="180"/>

      <line x1="0" y1="45" x2="500" y2="45"/>
      <line x1="0" y1="90" x2="500" y2="90"/>
      <line x1="0" y1="135" x2="500" y2="135"/>
    </g>

    <!-- Akser -->
    <line x1="0" y1="135" x2="510" y2="135" stroke="#374151" stroke-width="2" marker-end="url(#arrow-axis)"/>
    <line x1="50" y1="190" x2="50" y2="-10" stroke="#374151" stroke-width="2" marker-end="url(#arrow-axis)"/>

    <text x="515" y="140" font-family="Georgia, serif" font-size="14" fill="#374151" font-style="italic">x</text>
    <text x="55" y="-15" font-family="Georgia, serif" font-size="14" fill="#374151" font-style="italic">y</text>

    <!-- Kurven med lokalt maks og min -->
    <path d="M 30 120 Q 80 150 130 100 Q 180 40 250 25 Q 320 10 350 60 Q 380 110 430 140 Q 470 160 500 130"
          stroke="#3b82f6" stroke-width="3" fill="none"/>

    <!-- Lokalt maksimum -->
    <circle cx="250" cy="25" r="7" fill="#22c55e"/>
    <text x="235" y="15" font-family="Georgia, serif" font-size="12" fill="#22c55e" font-weight="bold">Maks</text>
    <line x1="250" y1="25" x2="250" y2="135" stroke="#22c55e" stroke-width="1" stroke-dasharray="5,3"/>
    <text x="243" y="150" font-family="Georgia, serif" font-size="12" fill="#22c55e" font-style="italic">x₁</text>

    <!-- Lokalt minimum -->
    <circle cx="430" cy="140" r="7" fill="#ef4444"/>
    <text x="415" y="165" font-family="Georgia, serif" font-size="12" fill="#ef4444" font-weight="bold">Min</text>
    <line x1="430" y1="140" x2="430" y2="135" stroke="#ef4444" stroke-width="1" stroke-dasharray="5,3"/>
    <text x="423" y="150" font-family="Georgia, serif" font-size="12" fill="#ef4444" font-style="italic">x₂</text>

    <!-- Tangenter ved ekstremalpunkter (horisontale) -->
    <line x1="180" y1="25" x2="320" y2="25" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="8,4"/>
    <line x1="360" y1="140" x2="500" y2="140" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="8,4"/>

    <text x="480" y="105" font-family="Georgia, serif" font-size="13" fill="#3b82f6" font-style="italic">f(x)</text>
  </g>

  <!-- Fortegnslinje for f'(x) -->
  <rect x="50" y="260" width="500" height="100" fill="#eff6ff" stroke="#3b82f6" stroke-width="1" rx="5"/>
  <text x="300" y="285" font-family="Georgia, serif" font-size="16" font-weight="bold" fill="#1e40af" text-anchor="middle">Fortegnslinje for f'(x)</text>

  <!-- Tallinje -->
  <line x1="80" y1="320" x2="520" y2="320" stroke="#374151" stroke-width="2"/>

  <!-- Merker på tallinjen -->
  <line x1="250" y1="310" x2="250" y2="330" stroke="#22c55e" stroke-width="2"/>
  <text x="250" y="345" font-family="Georgia, serif" font-size="12" fill="#22c55e" text-anchor="middle" font-style="italic">x₁</text>

  <line x1="400" y1="310" x2="400" y2="330" stroke="#ef4444" stroke-width="2"/>
  <text x="400" y="345" font-family="Georgia, serif" font-size="12" fill="#ef4444" text-anchor="middle" font-style="italic">x₂</text>

  <!-- Fortegn -->
  <text x="160" y="320" font-family="Georgia, serif" font-size="24" fill="#22c55e" text-anchor="middle" font-weight="bold">+</text>
  <text x="325" y="320" font-family="Georgia, serif" font-size="24" fill="#ef4444" text-anchor="middle" font-weight="bold">−</text>
  <text x="460" y="320" font-family="Georgia, serif" font-size="24" fill="#22c55e" text-anchor="middle" font-weight="bold">+</text>

  <!-- Piler som viser stigning -->
  <text x="160" y="302" font-family="Georgia, serif" font-size="14" fill="#22c55e" text-anchor="middle">↗</text>
  <text x="325" y="302" font-family="Georgia, serif" font-size="14" fill="#ef4444" text-anchor="middle">↘</text>
  <text x="460" y="302" font-family="Georgia, serif" font-size="14" fill="#22c55e" text-anchor="middle">↗</text>

  <!-- Forklaringsboks -->
  <rect x="50" y="375" width="500" height="65" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" rx="5"/>
  <text x="300" y="397" font-family="Georgia, serif" font-size="13" fill="#166534" text-anchor="middle">
    <tspan font-weight="bold">Lokalt maksimum:</tspan> f'(x) skifter fra + til − (f'(x₁) = 0)
  </text>
  <text x="300" y="417" font-family="Georgia, serif" font-size="13" fill="#166534" text-anchor="middle">
    <tspan font-weight="bold">Lokalt minimum:</tspan> f'(x) skifter fra − til + (f'(x₂) = 0)
  </text>
  <text x="300" y="435" font-family="Georgia, serif" font-size="12" fill="#6b7280" text-anchor="middle" font-style="italic">
    Tangenten er horisontal i ekstremalpunkter (stigningstall = 0)
  </text>
</svg>