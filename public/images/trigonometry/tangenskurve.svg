<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 380" width="600" height="380">
  <defs>
    <marker id="arrow-tan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
    <clipPath id="clip-tan">
      <rect x="50" y="50" width="530" height="270"/>
    </clipPath>
  </defs>

  <!-- Background -->
  <rect width="600" height="380" fill="#fafafa"/>

  <!-- Title -->
  <text x="300" y="28" text-anchor="middle" font-family="system-ui, sans-serif" font-size="20" font-weight="600" fill="#1f2937">Graf av y = tan(x)</text>

  <!-- Grid lines -->
  <g stroke="#e5e7eb" stroke-width="0.5">
    <!-- Horizontal grid -->
    <line x1="50" y1="105" x2="570" y2="105"/>
    <line x1="50" y1="140" x2="570" y2="140"/>
    <line x1="50" y1="185" x2="570" y2="185"/>
    <line x1="50" y1="220" x2="570" y2="220"/>
    <line x1="50" y1="265" x2="570" y2="265"/>

    <!-- Vertical grid at key points -->
    <line x1="130" y1="50" x2="130" y2="320"/>
    <line x1="210" y1="50" x2="210" y2="320"/>
    <line x1="290" y1="50" x2="290" y2="320"/>
    <line x1="370" y1="50" x2="370" y2="320"/>
    <line x1="450" y1="50" x2="450" y2="320"/>
    <line x1="530" y1="50" x2="530" y2="320"/>
  </g>

  <!-- Asymptotes (vertical dashed lines) -->
  <line x1="130" y1="50" x2="130" y2="320" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="6,4"/>
  <line x1="290" y1="50" x2="290" y2="320" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="6,4"/>
  <line x1="450" y1="50" x2="450" y2="320" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="6,4"/>

  <!-- Axes -->
  <line x1="50" y1="185" x2="580" y2="185" stroke="#374151" stroke-width="2" marker-end="url(#arrow-tan)"/>
  <line x1="50" y1="320" x2="50" y2="45" stroke="#374151" stroke-width="2" marker-end="url(#arrow-tan)"/>

  <!-- Axis labels -->
  <text x="585" y="190" font-family="system-ui, sans-serif" font-size="14" fill="#374151" font-style="italic">x</text>
  <text x="55" y="42" font-family="system-ui, sans-serif" font-size="14" fill="#374151" font-style="italic">y</text>

  <!-- Y-axis values -->
  <text x="35" y="109" font-family="system-ui, sans-serif" font-size="12" fill="#374151" text-anchor="end">2</text>
  <text x="35" y="144" font-family="system-ui, sans-serif" font-size="12" fill="#374151" text-anchor="end">1</text>
  <text x="35" y="189" font-family="system-ui, sans-serif" font-size="12" fill="#374151" text-anchor="end">0</text>
  <text x="35" y="224" font-family="system-ui, sans-serif" font-size="12" fill="#374151" text-anchor="end">-1</text>
  <text x="35" y="269" font-family="system-ui, sans-serif" font-size="12" fill="#374151" text-anchor="end">-2</text>

  <!-- X-axis values -->
  <text x="50" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#374151" text-anchor="middle">0</text>
  <text x="130" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#ef4444" text-anchor="middle">pi/2</text>
  <text x="210" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#374151" text-anchor="middle">pi</text>
  <text x="290" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#ef4444" text-anchor="middle">3pi/2</text>
  <text x="370" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#374151" text-anchor="middle">2pi</text>
  <text x="450" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#ef4444" text-anchor="middle">5pi/2</text>
  <text x="530" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#374151" text-anchor="middle">3pi</text>

  <!-- Tangent curves with clipping -->
  <g clip-path="url(#clip-tan)">
    <!-- First branch: 0 to pi/2 -->
    <path d="M 50,185
             Q 70,175 90,145
             Q 105,105 115,60
             L 120,30"
          fill="none" stroke="#ef4444" stroke-width="3" stroke-linecap="round"/>

    <!-- Second branch: pi/2 to 3pi/2 -->
    <path d="M 140,340
             Q 150,280 160,250
             Q 175,220 210,185
             Q 245,150 260,120
             Q 275,80 280,50"
          fill="none" stroke="#ef4444" stroke-width="3" stroke-linecap="round"/>

    <!-- Third branch: 3pi/2 to 5pi/2 -->
    <path d="M 300,340
             Q 310,280 320,250
             Q 335,220 370,185
             Q 405,150 420,120
             Q 435,80 440,50"
          fill="none" stroke="#ef4444" stroke-width="3" stroke-linecap="round"/>

    <!-- Fourth branch: after 5pi/2 -->
    <path d="M 460,340
             Q 470,280 480,250
             Q 495,220 530,185
             Q 550,165 570,140"
          fill="none" stroke="#ef4444" stroke-width="3" stroke-linecap="round"/>
  </g>

  <!-- Key points on curve -->
  <circle cx="50" cy="185" r="4" fill="#ef4444"/>
  <circle cx="210" cy="185" r="4" fill="#ef4444"/>
  <circle cx="370" cy="185" r="4" fill="#ef4444"/>
  <circle cx="530" cy="185" r="4" fill="#ef4444"/>

  <!-- Function label -->
  <rect x="420" y="45" width="160" height="40" rx="6" fill="white" stroke="#ef4444" stroke-width="1.5"/>
  <text x="500" y="70" font-family="system-ui, sans-serif" font-size="16" fill="#ef4444" font-weight="600" text-anchor="middle">y = tan(x)</text>

  <!-- Asymptote label -->
  <rect x="140" y="55" width="90" height="25" rx="4" fill="#fef2f2" stroke="#ef4444" stroke-width="1"/>
  <text x="185" y="72" font-family="system-ui, sans-serif" font-size="11" fill="#dc2626" text-anchor="middle">Asymptote</text>

  <!-- Properties box -->
  <rect x="420" y="250" width="165" height="65" rx="6" fill="#fef2f2" stroke="#ef4444" stroke-width="1"/>
  <text x="430" y="270" font-family="system-ui, sans-serif" font-size="11" fill="#991b1b">Egenskaper:</text>
  <text x="430" y="285" font-family="system-ui, sans-serif" font-size="10" fill="#991b1b">- Periode: pi (180Â°)</text>
  <text x="430" y="298" font-family="system-ui, sans-serif" font-size="10" fill="#991b1b">- Nullpunkter: 0, pi, 2pi, ...</text>
  <text x="430" y="311" font-family="system-ui, sans-serif" font-size="10" fill="#991b1b">- Asymptoter: pi/2, 3pi/2, ...</text>

  <!-- tan = sin/cos note -->
  <rect x="50" y="345" width="200" height="25" rx="4" fill="#fefce8" stroke="#eab308" stroke-width="1"/>
  <text x="60" y="362" font-family="system-ui, sans-serif" font-size="11" fill="#854d0e">tan(x) = sin(x)/cos(x)</text>
</svg>