import type { TextbookChapter } from '@/lib/types/textbook';

export const CHAPTER_NAT_VG1_2_4: TextbookChapter = {
  id: 'nat-vg1-2-4',
  courseId: 'nat-vg1',
  chapterNumber: '2.4',
  title: 'Kjemiske reaksjoner',
  description: 'Lær om kjemiske reaksjoner, hvordan du skriver og balanserer reaksjonslikninger, ulike reaksjonstyper, og energiomdannelser i reaksjoner.',
  estimatedMinutes: 55,
  competenceGoals: [
    'Skrive og balansere kjemiske reaksjonslikninger',
    'Forklare forskjellen mellom reaktanter og produkter',
    'Beskrive ulike typer kjemiske reaksjoner',
    'Forklare forskjellen mellom eksoterme og endoterme reaksjoner',
    'Bruke loven om massebevarelse i kjemiske reaksjoner',
  ],
  content: [
    {
      id: 'nat-vg1-2-4-intro',
      type: 'text',
      content: 'En **kjemisk reaksjon** er en prosess hvor stoffene som inngår (reaktantene) omdannes til nye stoffer (produktene). Under reaksjonen brytes kjemiske bindinger i reaktantene, og nye bindinger dannes i produktene. Atomene bevares, men de omarrangeres til nye forbindelser.',
    },
    {
      id: 'nat-vg1-2-4-def-reaksjonslikning',
      type: 'definition',
      title: 'Reaksjonslikning',
      content: 'En **reaksjonslikning** er en måte å skrive en kjemisk reaksjon på ved hjelp av kjemiske formler. Reaktantene skrives på venstre side av en pil, og produktene på høyre side:\n\n$$\\text{Reaktanter} \\rightarrow \\text{Produkter}$$\n\nEksempel: $$2\\text{H}_2 + \\text{O}_2 \\rightarrow 2\\text{H}_2\\text{O}$$',
    },
    {
      id: 'nat-vg1-2-4-massebevarelse',
      type: 'text',
      content: '## Loven om massebevarelse\n\n**Loven om massebevarelse** sier at masse verken kan skapes eller ødelegges i en kjemisk reaksjon. Dette betyr at den totale massen av reaktanter er lik den totale massen av produkter.\n\nI praksis betyr dette at antall atomer av hvert grunnstoff må være det samme før og etter reaksjonen. Derfor må vi **balansere** reaksjonslikninger ved å sette riktige tall (koeffisienter) foran formlene.',
    },
    {
      id: 'nat-vg1-2-4-ex-balansering',
      type: 'example',
      title: 'Balansering av reaksjonslikning',
      problem: 'Balanser reaksjonen mellom hydrogen og oksygen som danner vann.',
      solution: 'La oss balansere reaksjonen mellom hydrogen og oksygen som danner vann:\n\n**Ubalansert:** $$\\text{H}_2 + \\text{O}_2 \\rightarrow \\text{H}_2\\text{O}$$\n\nVi teller atomer:\n- Venstre side: 2 H, 2 O\n- Høyre side: 2 H, 1 O (ubalansert!)\n\nFor å balansere setter vi 2 foran H₂O:\n\n**Balansert:** $$2\\text{H}_2 + \\text{O}_2 \\rightarrow 2\\text{H}_2\\text{O}$$\n\nNå har vi:\n- Venstre side: 4 H, 2 O\n- Høyre side: 4 H, 2 O (balansert!)',
    },
    {
      id: 'nat-vg1-2-4-note-balansering',
      type: 'note',
      title: 'Fremgangsmåte for balansering',
      content: 'Slik balanserer du en reaksjonslikning:\n\n1. Skriv ned den ubalanserte likningen\n2. Tell antall atomer av hvert grunnstoff på begge sider\n3. Start med å balansere grunnstoffer som bare forekommer i én forbindelse på hver side\n4. Balanser oksygen og hydrogen til slutt\n5. Bruk hele tall som koeffisienter (ikke brøker)\n6. Sjekk at alle grunnstoffer er balansert',
    },
    {
      id: 'nat-vg1-2-4-reaksjonstyper',
      type: 'text',
      content: '## Reaksjonstyper\n\nDet finnes flere hovedtyper kjemiske reaksjoner:\n\n### 1. Syntesereaksjon (kombinasjonsreaksjon)\nTo eller flere stoffer kombineres til ett produkt:\n$$\\text{A} + \\text{B} \\rightarrow \\text{AB}$$\n\nEksempel: $$2\\text{Mg} + \\text{O}_2 \\rightarrow 2\\text{MgO}$$\n\n### 2. Nedbrytningsreaksjon (dekomposisjonsreaksjon)\nEtt stoff brytes ned til to eller flere produkter:\n$$\\text{AB} \\rightarrow \\text{A} + \\text{B}$$\n\nEksempel: $$2\\text{H}_2\\text{O} \\rightarrow 2\\text{H}_2 + \\text{O}_2$$\n\n### 3. Enkeltersatningsreaksjon\nEtt grunnstoff erstatter et annet i en forbindelse:\n$$\\text{A} + \\text{BC} \\rightarrow \\text{AC} + \\text{B}$$\n\nEksempel: $$\\text{Zn} + 2\\text{HCl} \\rightarrow \\text{ZnCl}_2 + \\text{H}_2$$',
    },
    {
      id: 'nat-vg1-2-4-ex-dobbeltersatning',
      type: 'example',
      title: 'Dobbeltersatningsreaksjon',
      problem: 'Hva er en dobbeltersatningsreaksjon?',
      solution: 'I en **dobbeltersatningsreaksjon** bytter to forbindelser ioner med hverandre:\n\n$$\\text{AB} + \\text{CD} \\rightarrow \\text{AD} + \\text{CB}$$\n\nEksempel (nøytralisering):\n$$\\text{HCl} + \\text{NaOH} \\rightarrow \\text{NaCl} + \\text{H}_2\\text{O}$$\n\nHydrogenklorid (HCl) og natriumhydroksid (NaOH) reagerer og danner natriumklorid (NaCl) og vann (H₂O).',
    },
    {
      id: 'nat-vg1-2-4-forbrenning',
      type: 'text',
      content: '## Forbrenning\n\n**Forbrenning** er en kjemisk reaksjon hvor et stoff reagerer raskt med oksygen og avgir lys og varme. Fullstendig forbrenning av hydrokarboner gir karbondioksid (CO₂) og vann (H₂O).\n\nEksempel (forbrenning av metan):\n$$\\text{CH}_4 + 2\\text{O}_2 \\rightarrow \\text{CO}_2 + 2\\text{H}_2\\text{O}$$\n\nUfullstendig forbrenning (når det er lite oksygen) kan gi karbonmonoksid (CO) eller karbon (C - sot) i stedet.',
    },
    {
      id: 'nat-vg1-2-4-energi',
      type: 'text',
      content: '## Energi i kjemiske reaksjoner\n\nKjemiske reaksjoner innebærer alltid energiomdannelser. Energi kreves for å bryte bindinger, og energi frigjøres når nye bindinger dannes.\n\n### Eksoterme reaksjoner\nEn **eksoterm reaksjon** avgir energi til omgivelsene, vanligvis som varme. Temperaturen øker.\n\nEksempel: Forbrenning av bensin\n$$\\text{C}_8\\text{H}_{18} + \\frac{25}{2}\\text{O}_2 \\rightarrow 8\\text{CO}_2 + 9\\text{H}_2\\text{O} + \\text{energi}$$\n\n### Endoterme reaksjoner\nEn **endoterm reaksjon** tar opp energi fra omgivelsene. Temperaturen synker.\n\nEksempel: Fotosyntese\n$$6\\text{CO}_2 + 6\\text{H}_2\\text{O} + \\text{energi} \\rightarrow \\text{C}_6\\text{H}_{12}\\text{O}_6 + 6\\text{O}_2$$',
    },
    {
      id: 'nat-vg1-2-4-note-energidiagram',
      type: 'note',
      title: 'Energidiagram',
      content: 'Et energidiagram viser energinivået til reaktanter og produkter:\n\n**Eksoterm reaksjon:** Produktene har lavere energi enn reaktantene. Differansen er energien som frigjøres.\n\n**Endoterm reaksjon:** Produktene har høyere energi enn reaktantene. Differansen er energien som må tilføres.',
    },
  ],
  exercises: [
    {
      id: 'nat-vg1-2-4-ex-1',
      number: '1',
      type: 'classic',
      difficulty: 'lett',
      task: 'Hva er en kjemisk reaksjon?',
      solution: 'En kjemisk reaksjon er en prosess hvor stoffene som inngår (reaktantene) omdannes til nye stoffer (produktene). Kjemiske bindinger brytes og nye bindinger dannes.',
      hints: ['Tenk på hva som skjer med stoffene i reaksjonen.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-2',
      number: '2',
      type: 'classic',
      difficulty: 'lett',
      task: 'Hva sier loven om massebevarelse?',
      solution: 'Loven om massebevarelse sier at masse verken kan skapes eller ødelegges i en kjemisk reaksjon. Den totale massen av reaktanter er lik den totale massen av produkter.',
      hints: ['Tenk på hva som skjer med massen under en reaksjon.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-3',
      number: '3',
      type: 'multiple-choice',
      difficulty: 'lett',
      task: 'Hva kalles en reaksjon som avgir varme til omgivelsene?',
      options: [
        { id: 'a', text: 'Endoterm reaksjon', isCorrect: false },
        { id: 'b', text: 'Eksoterm reaksjon', isCorrect: true },
        { id: 'c', text: 'Syntesereaksjon', isCorrect: false },
        { id: 'd', text: 'Nedbrytningsreaksjon', isCorrect: false },
      ],
      hints: ['Tenk på prefiks "ekso" som betyr "ut av".'],
    },
    {
      id: 'nat-vg1-2-4-ex-4',
      number: '4',
      type: 'classic',
      difficulty: 'medium',
      task: 'Balanser følgende reaksjonslikning: Fe + O₂ → Fe₂O₃',
      solution: '4Fe + 3O₂ → 2Fe₂O₃\n\nForklaring: Vi trenger 4 Fe-atomer på venstre side for å få 4 Fe-atomer på høyre side (2 × 2), og 6 O-atomer på venstre side (3 × 2) for å få 6 O-atomer på høyre side (2 × 3).',
      hints: ['Start med å balansere jern, deretter oksygen.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-5',
      number: '5',
      type: 'classic',
      difficulty: 'medium',
      task: 'Identifiser reaksjonstypen: 2H₂O → 2H₂ + O₂',
      solution: 'Dette er en nedbrytningsreaksjon (dekomposisjonsreaksjon), fordi ett stoff (vann) brytes ned til to produkter (hydrogen og oksygen).',
      hints: ['Tenk på hvor mange reaktanter og produkter det er.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-6',
      number: '6',
      type: 'classic',
      difficulty: 'medium',
      task: 'Hva er produktene ved fullstendig forbrenning av propan (C₃H₈)?',
      solution: 'Produktene ved fullstendig forbrenning av propan er karbondioksid (CO₂) og vann (H₂O). Den balanserte likningen er:\n\nC₃H₈ + 5O₂ → 3CO₂ + 4H₂O',
      hints: ['Fullstendig forbrenning av hydrokarboner gir alltid CO₂ og H₂O.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-7',
      number: '7',
      type: 'multiple-choice',
      difficulty: 'medium',
      task: 'Hvilken type reaksjon er fotosyntese?',
      options: [
        { id: 'a', text: 'Eksoterm reaksjon', isCorrect: false },
        { id: 'b', text: 'Endoterm reaksjon', isCorrect: true },
        { id: 'c', text: 'Forbrenningsreaksjon', isCorrect: false },
        { id: 'd', text: 'Nedbrytningsreaksjon', isCorrect: false },
      ],
      hints: ['Fotosyntese krever energi fra sollys.'],
    },
    {
      id: 'nat-vg1-2-4-ex-8',
      number: '8',
      type: 'classic',
      difficulty: 'vanskelig',
      task: 'Balanser følgende reaksjonslikning og identifiser reaksjonstypen: C₅H₁₂ + O₂ → CO₂ + H₂O',
      solution: 'Balansert likning: C₅H₁₂ + 8O₂ → 5CO₂ + 6H₂O\n\nDette er en forbrenningsreaksjon, fordi et hydrokarbon (C₅H₁₂) reagerer med oksygen og danner karbondioksid og vann. Det er også en eksoterm reaksjon fordi den avgir varme.',
      hints: ['Start med å balansere karbon, deretter hydrogen, til slutt oksygen.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
    {
      id: 'nat-vg1-2-4-ex-9',
      number: '9',
      type: 'classic',
      difficulty: 'vanskelig',
      task: 'Forklar hvorfor forbrenningsreaksjoner er eksoterme, med referanse til bindingsenergier.',
      solution: 'Forbrenningsreaksjoner er eksoterme fordi energien som frigjøres når nye bindinger dannes i produktene (CO₂ og H₂O) er større enn energien som kreves for å bryte bindingene i reaktantene (hydrokarbon og O₂). Den overskytende energien avgis som varme og lys til omgivelsene. Bindingene i CO₂ og H₂O er svært sterke, spesielt C=O dobbeltbindingene.',
      hints: ['Tenk på forholdet mellom energi som kreves for å bryte bindinger og energi som frigjøres når nye bindinger dannes.'],
      allowsUpload: true,
      allowsCanvasDrawing: true,
    },
  ],
};
